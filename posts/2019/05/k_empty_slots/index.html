<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>[Leetcode 683] K Empty Slots - Yang&#39;s Blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<meta property="og:title" content="[Leetcode 683] K Empty Slots" />
<meta property="og:description" content="Question Leetcode 683: K Empty Slots
There is a garden with N slots. In each slot, there is a flower. The N flowers will bloom one by one inN days. In each day, there will be exactly one flower blooming and it will be in the status of blooming since then.
Given an array flowers consists of number from 1 to N. Each number in the array represents the place where the flower will open in that day." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ericliu03.github.io/posts/2019/05/k_empty_slots/" />
<meta property="article:published_time" content="2019-05-03T14:09:47-07:00" />
<meta property="article:modified_time" content="2019-05-03T14:09:47-07:00" />

	<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Leetcode 683] K Empty Slots"/>
<meta name="twitter:description" content="Question Leetcode 683: K Empty Slots
There is a garden with N slots. In each slot, there is a flower. The N flowers will bloom one by one inN days. In each day, there will be exactly one flower blooming and it will be in the status of blooming since then.
Given an array flowers consists of number from 1 to N. Each number in the array represents the place where the flower will open in that day."/>

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-138995517-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Yang&#39;s Blog" rel="home">
				<div class="logo__title">Yang&#39;s Blog</div>
				<div class="logo__tagline">About Algorithms</div>
			</a>
		</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[Leetcode 683] K Empty Slots</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2019-05-03T14:09:47">2019-05-03</time>
</div>
</div>
		</header><div class="content post__content clearfix">
			

<h2 id="question">Question</h2>

<p><a href="https://leetcode.com/problems/k-empty-slots">Leetcode 683: K Empty Slots</a></p>

<p>There is a garden with <code>N</code> slots. In each slot, there is a flower. The <code>N</code> flowers will bloom one by one in<code>N</code> days. In each day, there will be <strong>exactly</strong> one flower blooming and it will be in the status of blooming since then.</p>

<p>Given an array <code>flowers</code> consists of number from <code>1</code> to <code>N</code>. Each number in the array represents the place where the flower will open in that day.</p>

<p>For example, <code>flowers[i] = x</code> means that the unique flower that blooms at day i will be at position <code>x</code>, where <code>i</code> and <code>x</code> will be in the range from <code>1</code> to <code>N</code>.</p>

<p>Also given an integer <code>k</code>, you need to output in which day there exists two flowers in the status of blooming, and also the number of flowers between them is <code>k</code> and these flowers are not blooming.</p>

<p>If there isn&rsquo;t such day, output <code>-1</code>.</p>

<h3 id="note">Note:</h3>

<ol>
<li>The given array will be in the range <code>[1, 20000]</code>.</li>
</ol>

<p>在reference 1 中有人提到提示题目有两个条件没有说明：</p>

<ol>
<li>flowers[i] = x should mean that the unique flower that blooms at day i+1 (not i) will be at position x.</li>
<li>If you can get multiple possible results, then you need to return the minimum one.</li>
</ol>

<h3 id="examples">Examples</h3>

<p>Example 1:</p>

<pre><code>Input: 
flowers: [1,3,2]
k: 1
Output: 2
Explanation: In the second day, the first and the third flower have become blooming.
</code></pre>

<p>Example 2:</p>

<pre><code>Input: 
flowers: [1,2,3]
k: 1
Output: -1
</code></pre>

<h2 id="solution">Solution</h2>

<h3 id="method-1">Method 1</h3>

<p>既然每天都会开花，那么我们可以开一个数组<code>slots</code>来存当前位置的花的开放情况，然后每天扫一遍这个数组来看看符合要求的情况有没有出现。</p>

<p>时间复杂度为O(n2)的，因为对于每一天都需要扫一遍所有的花。</p>

<h4 id="code">Code</h4>

<p>代码大概写了一下没有优化，在LC是TLE的。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">kEmptySlots</span>(self, flowers: List[int], k: int) <span style="color:#f92672">-&gt;</span> int:
        
        slots <span style="color:#f92672">=</span> [False] <span style="color:#f92672">*</span> len(flowers)
        
        <span style="color:#66d9ef">for</span> i, lo <span style="color:#f92672">in</span> enumerate(flowers):
            slots[lo<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> True
            <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>helper(slots, k):
                <span style="color:#66d9ef">return</span> i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
        
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">helper</span>(self, slots, k):
        slow <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        fast <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">while</span> fast <span style="color:#f92672">&lt;</span> len(slots) <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> slots[fast]:
            fast <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
        slow <span style="color:#f92672">=</span> fast
        
        <span style="color:#66d9ef">while</span> fast <span style="color:#f92672">&lt;</span> len(slots):
            non_bloomed <span style="color:#f92672">=</span> fast <span style="color:#f92672">-</span> slow <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">if</span> non_bloomed <span style="color:#f92672">==</span> k:
                <span style="color:#66d9ef">return</span> True
            slow <span style="color:#f92672">=</span> fast
            fast <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">while</span> fast <span style="color:#f92672">&lt;</span> len(slots) <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> slots[fast]:
                fast <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">return</span> False
            </code></pre></div>
<h3 id="method-2">Method 2</h3>

<p>既然给定的要求是基于位置（相距k朵花），那么我们就不难想到把提供的信息换一种方式储存：给的array<code>flowers</code>是第<code>i</code>天开花的位置<code>l</code>，我们转换一下变成另一个数组<code>slots</code>where第<code>l</code>个位置存的是开花的时间<code>i</code>。（这个转换有点像inverted index，倒排索引，后面可以研究一下）。基于这个数组我们需要的找的就是<strong>长度为k+2的subarray</strong>。我们定义这个subarray边界是<code>slots[left]</code>和<code>slots[right]</code>，那么题目的要求就是对于 <code>slots[i] where left &lt; i &lt; right</code>, <code>slots[i] &lt; slots[left] and slots[i] &lt; slots[right]</code>。</p>

<p>关于扫描的方法，我这里使用了从ref1中给出的方法。每当遇到slot[i]比left或者right还小，就把这个作为left。原因是这个slot开花的日子比left或者right开花的日子早，所以不能在subarray中间。（感觉有点马拉车算法的意思？）</p>

<h4 id="code-1">Code</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">kEmptySlots</span>(self, flowers: List[int], k: int) <span style="color:#f92672">-&gt;</span> int:
        slots <span style="color:#f92672">=</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">*</span> len(flowers)
        <span style="color:#66d9ef">for</span> day, slot <span style="color:#f92672">in</span> enumerate(flowers):
            slots[slot<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> day <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
        
        left <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        right <span style="color:#f92672">=</span> k <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
        result <span style="color:#f92672">=</span> float(<span style="color:#e6db74">&#39;inf&#39;</span>)
        i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">while</span> i <span style="color:#f92672">&lt;</span> len(slots) <span style="color:#f92672">and</span> right <span style="color:#f92672">&lt;</span> len(slots):
            <span style="color:#66d9ef">if</span> slots[i] <span style="color:#f92672">&lt;</span> slots[left] <span style="color:#f92672">or</span> slots[i] <span style="color:#f92672">&lt;=</span> slots[right]:
                <span style="color:#66d9ef">if</span> i <span style="color:#f92672">==</span> right:
                    result <span style="color:#f92672">=</span> min(result, max(slots[left], slots[right]))
                left <span style="color:#f92672">=</span> i
                right <span style="color:#f92672">=</span> left <span style="color:#f92672">+</span> k <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
            i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> result <span style="color:#f92672">==</span> float(<span style="color:#e6db74">&#39;inf&#39;</span>) <span style="color:#66d9ef">else</span> result</code></pre></div>
<h3 id="thoughts">Thoughts</h3>

<ol>
<li>有一点想错了，以为两朵花之间有k个没开的，其中可能夹杂着开了的花。而实际上是有k朵花，然后他们都没开。</li>
</ol>

<h3 id="reference">Reference</h3>

<ol>
<li><a href="https://leetcode.com/problems/k-empty-slots/discuss/107931/JavaC%2B%2B-Simple-O(n)-solution">[Java/C++] Simple O(n) solution</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95">倒排索引</a></li>
</ol>

		</div>
		
<div class="post__tags tags clearfix">
	<svg class="tags__icon icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/inverted-index/" rel="tag">inverted index</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/array/" rel="tag">array</a></li>
	</ul>
</div>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Eric avatar" src="/img/avatar1.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Eric</span>
	</div>
	<div class="authorbox__description">
		Software Engineer, with interests in algorithm
	</div>
</div>

<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/posts/2019/05/frog_jump/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">[Leetcode 403] Frog Jump</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/posts/2019/05/max_increase_to_keep_city_skyline/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">[Leetcode 807] Max Increase to Keep City Skyline</p></a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ericliu03-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<label>
			<input class="widget-search__field" type="search" placeholder="SEARCH..." value="" name="q" aria-label="SEARCH...">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://ericliu03.github.io/" />
	</form>
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_962_maximum_width_ramp/">[Leetcode 962] Maximum Width Ramp</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_955_delete_columns_to_make_sorted_ii/">[Leetcode 955] Delete Columns to Make Sorted II</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_1124_longest_well_performing_interval/">[Leetcode 1124] Longest Well Performing Interval</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_329_longest_increasing_path_in_a_matrix/">[Leetcode 329] Longest Increasing Path in a Matrix</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_678_valid_parenthesis_string/">[Leetcode 678] Valid Parenthesis String</a></li>
		</ul>
	</div>
</div>
<div class="widget-categories widget">
	<h4 class="widget__title">Categories</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/categories/"></a></li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/" title=""> (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/array" title="Array">Array (4)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/bfs" title="Bfs">Bfs (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cumulative-sum" title="Cumulative sum">Cumulative sum (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/dfs" title="Dfs">Dfs (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/dp" title="Dp">Dp (5)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/graph" title="Graph">Graph (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/hard" title="Hard">Hard (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/inverted-index" title="Inverted index">Inverted index (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/loop" title="Loop">Loop (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/matrix" title="Matrix">Matrix (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/medium" title="Medium">Medium (11)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/monostack" title="Monostack">Monostack (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/sliding-window" title="Sliding window">Sliding window (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/stack" title="Stack">Stack (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/topological-sort" title="Topological sort">Topological sort (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/tree" title="Tree">Tree (1)</a>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 Yang&#39;s Blog.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>
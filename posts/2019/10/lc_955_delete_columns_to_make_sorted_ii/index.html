<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>[Leetcode 955] Delete Columns to Make Sorted II - Yang&#39;s Blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<meta property="og:title" content="[Leetcode 955] Delete Columns to Make Sorted II" />
<meta property="og:description" content="Question 955. Delete Columns to Make Sorted II
We are given an array A of N lowercase letter strings, all of the same length.
Now, we may choose any set of deletion indices, and for each string, we delete all the characters in those indices.
For example, if we have an array A = [&quot;abcdef&quot;,&quot;uvwxyz&quot;] and deletion indices {0, 2, 3}, then the final array after deletions is [&quot;bef&quot;,&quot;vyz&quot;]." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ericliu03.github.io/posts/2019/10/lc_955_delete_columns_to_make_sorted_ii/" />
<meta property="article:published_time" content="2020-01-08T21:24:40-08:00" />
<meta property="article:modified_time" content="2020-01-08T21:24:40-08:00" />

	<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Leetcode 955] Delete Columns to Make Sorted II"/>
<meta name="twitter:description" content="Question 955. Delete Columns to Make Sorted II
We are given an array A of N lowercase letter strings, all of the same length.
Now, we may choose any set of deletion indices, and for each string, we delete all the characters in those indices.
For example, if we have an array A = [&quot;abcdef&quot;,&quot;uvwxyz&quot;] and deletion indices {0, 2, 3}, then the final array after deletions is [&quot;bef&quot;,&quot;vyz&quot;]."/>

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-138995517-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Yang&#39;s Blog" rel="home">
				<div class="logo__title">Yang&#39;s Blog</div>
				<div class="logo__tagline">About Algorithms</div>
			</a>
		</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[Leetcode 955] Delete Columns to Make Sorted II</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2020-01-08T21:24:40">2020-01-08</time>
</div>

<div class="meta__item-categories meta__item">
	<svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
	<span class="meta__text"><a class="meta__link" href="/categories/" rel="category"></a></span>
</div>
</div>
		</header><div class="content post__content clearfix">
			

<h2 id="question">Question</h2>

<p><a href="https://leetcode.com/problems/delete-columns-to-make-sorted-ii/">955. Delete Columns to Make Sorted II</a></p>

<p>We are given an array A of N lowercase letter strings, all of the same length.</p>

<p>Now, we may choose any set of deletion indices, and for each string, we delete all the characters in those indices.</p>

<p>For example, if we have an array <code>A = [&quot;abcdef&quot;,&quot;uvwxyz&quot;]</code> and deletion indices {0, 2, 3}, then the final array after deletions is <code>[&quot;bef&quot;,&quot;vyz&quot;]</code>.</p>

<p>Suppose we chose a set of deletion indices D such that after deletions, the final array has its elements in lexicographic order (<code>A[0] &lt;= A[1] &lt;= A[2] ... &lt;= A[A.length - 1]</code>).</p>

<p>Return the minimum possible value of D.length.</p>

<h3 id="note">Note:</h3>

<ol>
<li>1 &lt;= A.length &lt;= 100</li>
<li>1 &lt;= A[i].length &lt;= 100</li>
</ol>

<h3 id="examples">Examples:</h3>

<pre><code>Example 1:

Input: [&quot;ca&quot;,&quot;bb&quot;,&quot;ac&quot;]
Output: 1
Explanation: 
After deleting the first column, A = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].
Now A is in lexicographic order (ie. A[0] &lt;= A[1] &lt;= A[2]).
We require at least 1 deletion since initially A was not in lexicographic order, so the answer is 1.
Example 2:

Input: [&quot;xc&quot;,&quot;yb&quot;,&quot;za&quot;]
Output: 0
Explanation: 
A is already in lexicographic order, so we don't need to delete anything.
Note that the rows of A are not necessarily in lexicographic order:
ie. it is NOT necessarily true that (A[0][0] &lt;= A[0][1] &lt;= ...)
Example 3:

Input: [&quot;zyx&quot;,&quot;wvu&quot;,&quot;tsr&quot;]
Output: 3
Explanation: 
We have to delete every column.
</code></pre>

<h2 id="solution">Solution</h2>

<h3 id="method-1">Method 1</h3>

<p>最开始的想法就是一位一位的，从上往下一个单词一个单词的，来比。如果是第一列，<code>A[i][col]&gt;A[i+1][col]</code>了，这一列是无论如何都要删掉的。但是问题就在于后面的时候，需要根据前面的情况来看是否该删</p>

<ol>
<li>所以每一列单独看是不行的，因为如果是 azb和bxa，那么删掉第二位之后因为第一位a&gt;b了，所以第二位怎么样都没关系。如果是azb和aza，那么就要比第三位了。</li>
<li>就想到如果前i位已经确定了排好序了，那么只用看后面的排没排好就行了，运用divide and conquer，把第i位都相等的那些word作为一个group来看。但是问题是对后面col的删除会影响一些已经排好的情况，比如，s开头的单词们需要删掉第二位，但是前面的a开头的不需要删，如果也删了第二位那么就不sorted了（比如abb和aca)。也就是说删掉一列对所有word都有影响，不能分开算。</li>
</ol>

<p>其实这时候离答案已经很近了，不过走了歪路。顺着第一点的想法走，当遇到<code>A[i][col]&lt;A[i+1][col]</code>，我可以说A[i]和A[i+1]到col这个位置的时候我就可以确定是，是一定A[i]&gt;A[i+1]，我们称作<code>is_sorted</code>。当遇到<code>A[i][col]==A[i+1][col]</code>，我不能确定，要看后边（比如aaab和aaac），除非前面已经排好了，也就是is_sorted。当遇到<code>A[i][col]&gt;A[i+1][col]</code>，只有前面是is_sorted，否则就要删除。</p>

<p>本题做的时候几种condition没有想清楚，最关键的就是确定在当前col，已经确定is_sorted有哪些，以此来判断增加了col+1这一位后，两个word是否是sorted，再一步一步走。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">minDeletionSize</span>(self, A: List[str]) <span style="color:#f92672">-&gt;</span> int:
        res <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        is_sorted <span style="color:#f92672">=</span> [False] <span style="color:#f92672">*</span> len(A)
        
        <span style="color:#66d9ef">for</span> col <span style="color:#f92672">in</span> range(len(A[<span style="color:#ae81ff">0</span>])):
            is_sorted2 <span style="color:#f92672">=</span> is_sorted[:]
            <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(A) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>):
                <span style="color:#66d9ef">if</span> A[i][col] <span style="color:#f92672">&gt;</span> A[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>][col] <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> is_sorted[i]:
                    res <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
                    <span style="color:#66d9ef">break</span>
                
                is_sorted2[i] <span style="color:#f92672">=</span> is_sorted[i] <span style="color:#f92672">or</span> A[i][col] <span style="color:#f92672">&lt;</span> A[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>][col]
            <span style="color:#66d9ef">else</span>:
                is_sorted <span style="color:#f92672">=</span> is_sorted2

        <span style="color:#66d9ef">return</span> res</code></pre></div>
<h3 id="method-2">Method 2</h3>

<p>From reference 1，这个解法更加纯粹的把题目的关键点提取了出来。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">minDeletionSize</span>(self, A):
        res, n, m <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, len(A), len(A[<span style="color:#ae81ff">0</span>])
        unsorted <span style="color:#f92672">=</span> set(range(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>))
        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(m):
            <span style="color:#66d9ef">if</span> any(A[i][j] <span style="color:#f92672">&gt;</span> A[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>][j] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> unsorted):
                res <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">else</span>:
                unsorted <span style="color:#f92672">-=</span> {i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> unsorted <span style="color:#66d9ef">if</span> A[i][j] <span style="color:#f92672">&lt;</span> A[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>][j]}
        <span style="color:#66d9ef">return</span> res</code></pre></div>
<h3 id="thoughts">Thoughts</h3>

<ol>
<li>string可以看做array，方便计算复杂度</li>
<li>min deletion可以看做max addition，反向思考。本题可以看做新的一列如果有问题我们就不add。或者说一列字母是否add要看一些条件。</li>
<li>关于字符串的 *lexicographic order*永远只有和紧挨的上下两个有关</li>
</ol>

<h2 id="reference">Reference</h2>

<ol>
<li><a href="https://leetcode.com/problems/delete-columns-to-make-sorted-ii/discuss/203182/JavaC%2B%2BPython-Greedy-Solution-O(MN)">[Java/C++/Python] Greedy Solution, O(MN)
</a></li>
</ol>

		</div>
		
<div class="post__tags tags clearfix">
	<svg class="tags__icon icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags//" rel="tag"></a></li>
	</ul>
</div>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Eric avatar" src="/img/avatar1.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Eric</span>
	</div>
	<div class="authorbox__description">
		Software Engineer, with interests in algorithm
	</div>
</div>

<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/posts/2019/10/lc_1124_longest_well_performing_interval/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">[Leetcode 1124] Longest Well Performing Interval</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/posts/2019/10/lc_962_maximum_width_ramp/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">[Leetcode 962] Maximum Width Ramp</p></a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ericliu03-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<label>
			<input class="widget-search__field" type="search" placeholder="SEARCH..." value="" name="q" aria-label="SEARCH...">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://ericliu03.github.io/" />
	</form>
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_962_maximum_width_ramp/">[Leetcode 962] Maximum Width Ramp</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_955_delete_columns_to_make_sorted_ii/">[Leetcode 955] Delete Columns to Make Sorted II</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_1124_longest_well_performing_interval/">[Leetcode 1124] Longest Well Performing Interval</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_329_longest_increasing_path_in_a_matrix/">[Leetcode 329] Longest Increasing Path in a Matrix</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/2019/10/lc_678_valid_parenthesis_string/">[Leetcode 678] Valid Parenthesis String</a></li>
		</ul>
	</div>
</div>
<div class="widget-categories widget">
	<h4 class="widget__title">Categories</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/categories/"></a></li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/" title=""> (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/array" title="Array">Array (4)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/bfs" title="Bfs">Bfs (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cumulative-sum" title="Cumulative sum">Cumulative sum (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/dfs" title="Dfs">Dfs (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/dp" title="Dp">Dp (5)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/graph" title="Graph">Graph (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/hard" title="Hard">Hard (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/inverted-index" title="Inverted index">Inverted index (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/loop" title="Loop">Loop (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/matrix" title="Matrix">Matrix (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/medium" title="Medium">Medium (11)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/monostack" title="Monostack">Monostack (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/sliding-window" title="Sliding window">Sliding window (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/stack" title="Stack">Stack (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/topological-sort" title="Topological sort">Topological sort (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/tree" title="Tree">Tree (1)</a>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 Yang&#39;s Blog.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>